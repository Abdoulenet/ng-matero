(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{MmkZ:function(t,e,i){"use strict";i.r(e);var n=i("CcnG"),o=function(){return function(){}}(),s=i("pMnS"),a=i("yWMr"),r=i("t68o"),l=i("zbXB"),h=i("NcP4"),c=i("xYTU"),u=i("YImT"),d=i("l7KE"),f=i("IWKk"),p=i("vaAY"),g=i("s/Hs"),m=i("0Uq3"),b=i("zJr5"),v=i("m2xc"),w=i("WFGK"),x=i("7iLc"),y=i("r43C"),E=i("Wf4p"),z=i("opO1"),$=i("tgey"),M=i("ZYCi"),T=i("/crD"),C=i("Fzqc"),L=i("Ip0R"),k=i("tB2r"),H=i.n(k),D=function(){function t(){this.dir="assets/images/pixabay/",this.images=[];for(var t=1;t<=20;t++)this.images.push({title:t,src:this.dir+t+".jpg"})}return t.prototype.ngOnInit=function(){},t.prototype.preview=function(t){new H.a(this.images,{index:t})},t}(),I=n.ub({encapsulation:2,styles:[],data:{}});function V(t){return n.Qb(0,[(t()(),n.wb(0,0,null,null,9,"mat-grid-tile",[["class","mat-grid-tile"]],null,null,null,x.f,x.b)),n.vb(1,49152,[[1,4]],0,y.c,[n.k,[2,y.f]],null,null),(t()(),n.wb(2,0,null,0,6,"mat-grid-tile-header",[["class","mat-grid-tile-header"]],null,null,null,x.e,x.c)),n.vb(3,1097728,null,1,y.e,[n.k],null,null),n.Mb(603979776,2,{_lines:1}),n.vb(5,16384,null,0,y.d,[],null,null),(t()(),n.wb(6,0,null,1,2,"span",[["class","mat-line"],["matLine",""]],null,null,null,null,null)),n.vb(7,16384,[[2,4]],0,E.o,[],null,null),(t()(),n.Ob(8,null,["Gallery Image: ",""])),(t()(),n.wb(9,0,null,0,0,"img",[["alt","Gallery Image"],["class","fit-cover cursor-pointer"]],[[8,"src",4]],[[null,"click"]],function(t,e,i){var n=!0;return"click"===e&&(n=!1!==t.component.preview(t.context.index)&&n),n},null,null))],null,function(t,e){t(e,8,0,e.context.index),t(e,9,0,n.yb(1,"",e.context.$implicit.src,""))})}function S(t){return n.Qb(0,[(t()(),n.wb(0,0,null,null,1,"page-header",[["class","bg-pink-A100 matero-page-header"]],null,null,null,z.b,z.a)),n.vb(1,114688,null,0,$.a,[M.o,T.a],{title:[0,"title"]},null),(t()(),n.wb(2,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),n.Ob(-1,null,["The media picture is powered by "])),(t()(),n.wb(4,0,null,null,1,"a",[["href","https://github.com/nzbin/photoviewer"],["target","_blaknk"]],null,null,null,null,null)),(t()(),n.Ob(-1,null,["PhotoViewer"])),(t()(),n.Ob(-1,null,[", you can click the picture to enlarge it."])),(t()(),n.wb(7,0,null,null,5,"mat-grid-list",[["class","mat-grid-list"],["cols","4"],["rowHeight","1:1"]],null,null,null,x.d,x.a)),n.Lb(6144,null,y.f,null,[y.a]),n.vb(9,2211840,null,1,y.a,[n.k,[2,C.c]],{cols:[0,"cols"],rowHeight:[1,"rowHeight"]},null),n.Mb(603979776,1,{_tiles:1}),(t()(),n.lb(16777216,null,0,1,null,V)),n.vb(12,278528,null,0,L.m,[n.S,n.O,n.u],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var i=e.component;t(e,1,0,"Media"),t(e,9,0,"4","1:1"),t(e,12,0,i.images)},null)}function A(t){return n.Qb(0,[(t()(),n.wb(0,0,null,null,1,"app-media",[],null,null,null,S,I)),n.vb(1,114688,null,0,D,[],null,null)],function(t,e){t(e,1,0)},null)}var O=n.sb("app-media",D,A,{},{},[]),R=i("gIcY"),j=i("M2Lx"),F=i("9Bt9"),P=i("qAlS"),B=i("lLAP"),Y=i("dWZg"),W=i("OBdK"),N=i("eDkP"),_=i("4tE/"),q=i("wmQ5"),X=i("o3x0"),Z=i("jQLj"),K=i("mVsa"),Q=i("uGex"),U=i("v9Dh"),G=i("ZYjt"),J=i("4epT"),tt=i("OkvK"),et=i("OzfB"),it=i("vZwA"),nt=i("4c35"),ot=i("Lwpp"),st=i("y4qS"),at=i("6Wmm"),rt=i("BgWK"),lt=i("UodH"),ht=i("u7R8"),ct=i("FVSy"),ut=i("de3e"),dt=i("/dO6"),ft=i("SMsm"),pt=i("LC5p"),gt=i("YhbO"),mt=i("jlZm"),bt=i("/VYK"),vt=i("seP3"),wt=i("b716"),xt=i("0/Q6"),yt=i("Z+uX"),Et=i("Blfk"),zt=i("9It4"),$t=i("Nsh5"),Mt=i("w+lc"),Tt=i("kWGw"),Ct=i("vARd"),Lt=i("BHnd"),kt=i("La40"),Ht=i("8mMr"),Dt=i("J12g"),It=i("vvyD"),Vt=i("21Lb"),St=i("hUWP"),At=i("3pJQ"),Ot=i("V9q+"),Rt=i("wbNa"),jt=i("hha6"),Ft=i("QpxQ"),Pt=i("2wDS"),Bt=i("3H1x"),Yt=i("1MUZ"),Wt=i("1cSh"),Nt=i("I6xL"),_t=i("r7Sy"),qt=i("L08Y"),Xt=i("10iu"),Zt=i("xcyh"),Kt=i("kXfT"),Qt=i("PCNd"),Ut={title:"Media"},Gt=function(){return function(){}}(),Jt=i("YSh2");i.d(e,"GalleryModuleNgFactory",function(){return te});var te=n.tb(o,[],function(t){return n.Db([n.Eb(512,n.j,n.fb,[[8,[s.a,a.a,r.a,l.b,l.a,h.a,c.a,c.b,u.e,u.f,d.a,f.a,p.a,g.a,m.a,b.a,v.a,w.a,O]],[3,n.j],n.z]),n.Eb(4608,L.p,L.o,[n.w,[2,L.F]]),n.Eb(4608,R.A,R.A,[]),n.Eb(4608,R.g,R.g,[]),n.Eb(4608,j.c,j.c,[]),n.Eb(4608,F.a,F.a,[L.d,n.B,P.e,F.c]),n.Eb(135680,B.h,B.h,[n.B,Y.a]),n.Eb(4608,W.f,W.f,[n.O]),n.Eb(4608,N.c,N.c,[N.i,N.e,n.j,N.h,N.f,n.s,n.B,L.d,C.c,[2,L.j]]),n.Eb(5120,N.j,N.k,[N.c]),n.Eb(5120,_.b,_.c,[N.c]),n.Eb(4608,E.d,E.d,[]),n.Eb(5120,q.g,q.a,[[3,q.g]]),n.Eb(5120,X.c,X.d,[N.c]),n.Eb(135680,X.e,X.e,[N.c,n.s,[2,L.j],[2,X.b],X.c,[3,X.e],N.e]),n.Eb(4608,Z.i,Z.i,[]),n.Eb(5120,Z.a,Z.b,[N.c]),n.Eb(5120,K.c,K.k,[N.c]),n.Eb(4608,E.c,E.z,[[2,E.h],Y.a]),n.Eb(5120,Q.a,Q.b,[N.c]),n.Eb(5120,U.b,U.c,[N.c]),n.Eb(4608,G.e,E.e,[[2,E.i],[2,E.n]]),n.Eb(5120,J.c,J.a,[[3,J.c]]),n.Eb(5120,tt.d,tt.a,[[3,tt.d]]),n.Eb(5120,n.b,function(t,e){return[et.j(t,e)]},[L.d,n.D]),n.Eb(4608,it.h,it.h,[it.e,n.j,n.s]),n.Eb(1073742336,L.c,L.c,[]),n.Eb(1073742336,R.z,R.z,[]),n.Eb(1073742336,R.m,R.m,[]),n.Eb(1073742336,M.s,M.s,[[2,M.x],[2,M.o]]),n.Eb(1073742336,R.w,R.w,[]),n.Eb(1073742336,Y.b,Y.b,[]),n.Eb(1073742336,j.d,j.d,[]),n.Eb(1073742336,B.a,B.a,[]),n.Eb(1073742336,F.b,F.b,[]),n.Eb(1073742336,nt.g,nt.g,[]),n.Eb(1073742336,C.a,C.a,[]),n.Eb(1073742336,P.c,P.c,[]),n.Eb(1073742336,ot.e,ot.e,[]),n.Eb(1073742336,st.p,st.p,[]),n.Eb(1073742336,W.d,W.d,[]),n.Eb(1073742336,E.n,E.n,[[2,E.f],[2,G.f]]),n.Eb(1073742336,E.y,E.y,[]),n.Eb(1073742336,E.w,E.w,[]),n.Eb(1073742336,E.t,E.t,[]),n.Eb(1073742336,N.g,N.g,[]),n.Eb(1073742336,_.e,_.e,[]),n.Eb(1073742336,at.b,at.b,[]),n.Eb(1073742336,rt.d,rt.d,[]),n.Eb(1073742336,lt.c,lt.c,[]),n.Eb(1073742336,ht.e,ht.e,[]),n.Eb(1073742336,ct.g,ct.g,[]),n.Eb(1073742336,ut.d,ut.d,[]),n.Eb(1073742336,ut.c,ut.c,[]),n.Eb(1073742336,dt.d,dt.d,[]),n.Eb(1073742336,ft.c,ft.c,[]),n.Eb(1073742336,q.h,q.h,[]),n.Eb(1073742336,X.k,X.k,[]),n.Eb(1073742336,Z.j,Z.j,[]),n.Eb(1073742336,pt.b,pt.b,[]),n.Eb(1073742336,gt.c,gt.c,[]),n.Eb(1073742336,mt.d,mt.d,[]),n.Eb(1073742336,E.p,E.p,[]),n.Eb(1073742336,y.b,y.b,[]),n.Eb(1073742336,bt.c,bt.c,[]),n.Eb(1073742336,vt.e,vt.e,[]),n.Eb(1073742336,wt.c,wt.c,[]),n.Eb(1073742336,xt.e,xt.e,[]),n.Eb(1073742336,K.j,K.j,[]),n.Eb(1073742336,K.g,K.g,[]),n.Eb(1073742336,E.A,E.A,[]),n.Eb(1073742336,E.q,E.q,[]),n.Eb(1073742336,Q.d,Q.d,[]),n.Eb(1073742336,U.e,U.e,[]),n.Eb(1073742336,J.d,J.d,[]),n.Eb(1073742336,yt.c,yt.c,[]),n.Eb(1073742336,Et.c,Et.c,[]),n.Eb(1073742336,zt.c,zt.c,[]),n.Eb(1073742336,$t.h,$t.h,[]),n.Eb(1073742336,Mt.b,Mt.b,[]),n.Eb(1073742336,Tt.c,Tt.c,[]),n.Eb(1073742336,Ct.e,Ct.e,[]),n.Eb(1073742336,tt.e,tt.e,[]),n.Eb(1073742336,Lt.o,Lt.o,[]),n.Eb(1073742336,kt.k,kt.k,[]),n.Eb(1073742336,Ht.b,Ht.b,[]),n.Eb(1073742336,Dt.b,Dt.b,[]),n.Eb(1073742336,It.a,It.a,[]),n.Eb(1073742336,et.c,et.c,[]),n.Eb(1073742336,Vt.e,Vt.e,[]),n.Eb(1073742336,St.c,St.c,[]),n.Eb(1073742336,At.a,At.a,[]),n.Eb(1073742336,Ot.a,Ot.a,[[2,et.g],n.D]),n.Eb(1073742336,Rt.c,Rt.c,[]),n.Eb(1073742336,jt.a,jt.a,[jt.b]),n.Eb(1073742336,Ft.c,Ft.c,[]),n.Eb(1024,it.a,function(){return[{wrappers:[{name:"form-field",component:Pt.c}]},{types:[{name:"input",component:Bt.a,wrappers:["form-field"]}]},{types:[{name:"textarea",component:Yt.a,wrappers:["form-field"]}]},{types:[{name:"radio",component:Wt.a,wrappers:["form-field"]}]},{types:[{name:"checkbox",component:Nt.a,wrappers:["form-field"]}]},{types:[{name:"multicheckbox",component:_t.a,wrappers:["form-field"]}]},{types:[{name:"select",component:qt.a,wrappers:["form-field"]}]}]},[]),n.Eb(1073742336,it.i,it.i,[it.e,[2,it.a]]),n.Eb(1073742336,Pt.b,Pt.b,[]),n.Eb(1073742336,Bt.b,Bt.b,[]),n.Eb(1073742336,Yt.b,Yt.b,[]),n.Eb(1073742336,Xt.a,Xt.a,[]),n.Eb(1073742336,Wt.b,Wt.b,[]),n.Eb(1073742336,Nt.b,Nt.b,[]),n.Eb(1073742336,_t.b,_t.b,[]),n.Eb(1073742336,qt.b,qt.b,[]),n.Eb(1073742336,Zt.a,Zt.a,[]),n.Eb(1073742336,Kt.a,Kt.a,[]),n.Eb(1073742336,Qt.a,Qt.a,[]),n.Eb(1073742336,Gt,Gt,[]),n.Eb(1073742336,o,o,[]),n.Eb(256,dt.a,{separatorKeyCodes:[Jt.f]},[]),n.Eb(256,E.g,E.k,[]),n.Eb(256,Ft.d,Ft.e,[]),n.Eb(256,"popperDefaults",{},[]),n.Eb(1024,M.m,function(){return[[{path:"media",component:D,data:Ut}]]},[])])})},tB2r:function(t,e,i){t.exports=function(){"use strict";var t=function(e,i){return new t.fn.init(e,i)},e=window.document,i=[],n=i.concat,o=i.filter,s=i.slice,a={},r={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},l=/^\s*<(\w+|!)[^>]*>/,h=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,c=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,u=/^(?:body|html)$/i,d=["val","css","html","text","data","width","height","offset"],f=e.createElement("table"),p=e.createElement("tr"),g={tr:e.createElement("tbody"),tbody:f,thead:f,tfoot:f,td:p,th:p,"*":e.createElement("div")},m=/^[\w-]*$/,b={},v=b.toString,w=e.createElement("div"),x=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},y=e.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1};function E(t){return null==t?String(t):b[v.call(t)]||"object"}function z(t){return"function"==E(t)}function $(t){return null!=t&&t==t.window}function M(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function T(t){return"object"==E(t)}function C(t){return T(t)&&!$(t)&&Object.getPrototypeOf(t)==Object.prototype}function L(t){var e=!!t&&"length"in t&&t.length,i=E(t);return"function"!=i&&!$(t)&&("array"==i||0===e||"number"==typeof e&&e>0&&e-1 in t)}function k(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function H(t,e){return"number"!=typeof e||r[k(t)]?e:e+"px"}function D(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})}function I(t){return t in a?a[t]:a[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function V(e){return e instanceof t}function S(t,e,i,n){return z(e)?e.call(t,i,n):e}function A(t,e,i){null==i?t.removeAttribute(e):t.setAttribute(e,i)}function O(t,e){var i=t.className||"",n=i&&void 0!==i.baseVal;if(void 0===e)return n?i.baseVal:i;n?i.baseVal=e:t.className=e}function R(e,i){var n=e.replace(/./,function(t){return t[0].toUpperCase()}),o=this[0];return void 0===i?$(o)?o["inner"+n]:M(o)?o.documentElement["scroll"+n]:function(t,e){return"border-box"===t.css("box-sizing")?"width"===e?parseFloat(t.css(e))-parseFloat(t.css("padding-left"))-parseFloat(t.css("padding-right"))-parseFloat(t.css("border-left-width"))-parseFloat(t.css("border-right-width")):parseFloat(t.css(e))-parseFloat(t.css("padding-top"))-parseFloat(t.css("padding-bottom"))-parseFloat(t.css("border-top-width"))-parseFloat(t.css("border-bottom-width")):parseFloat(t.css(e))}(this,e):this.each(function(n){(o=t(this)).css(e,S(this,i,n,o[e]()))})}t.fn=t.prototype={constuctor:t,length:0,forEach:i.forEach,reduce:i.reduce,push:i.push,sort:i.sort,splice:i.splice,indexOf:i.indexOf,init:function(i,n){var s;if(!i)return this;if("string"==typeof i)if("<"==(i=i.trim())[0]&&l.test(i))s=t.fragment(i,RegExp.$1,n),i=null;else{if(void 0!==n)return t(n).find(i);s=t.qsa(e,i)}else{if(z(i))return t(e).ready(i);if(V(i))return i;if(x(i))s=o.call(i,function(t){return null!=t});else if(T(i))s=[i],i=null;else{if(void 0!==n)return t(n).find(i);s=t.qsa(e,i)}}return t.makeArray(s,i,this)},concat:function(){var t,e,i=[];for(t=0;t<arguments.length;t++)i[t]=V(e=arguments[t])?e.toArray():e;return n.apply(V(this)?this.toArray():this,i)},pluck:function(e){return t.map(this,function(t){return t[e]})},toArray:function(){return this.get()},get:function(t){return void 0===t?s.call(this):this[t>=0?t:t+this.length]},size:function(){return this.length},each:function(t){return i.every.call(this,function(e,i){return!1!==t.call(e,i,e)}),this},map:function(e){return t(t.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return t(s.apply(this,arguments))},first:function(){var e=this[0];return e&&!T(e)?e:t(e)},last:function(){var e=this[this.length-1];return e&&!T(e)?e:t(e)},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)}},t.extend=t.fn.extend=function(){var e,i,n,o,s,a,r=arguments[0]||{},l=1,h=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[l]||{},l++),"object"==typeof r||z(r)||(r={}),l===h&&(r=this,l--);l<h;l++)if(null!=(e=arguments[l]))for(i in e)n=r[i],r!==(o=e[i])&&(c&&o&&(C(o)||(s=x(o)))?(s?(s=!1,a=n&&x(n)?n:[]):a=n&&C(n)?n:{},r[i]=t.extend(c,a,o)):void 0!==o&&(r[i]=o));return r},t.extend({makeArray:function(t,e,i){var n,o=t?t.length:0;for(n=0;n<o;n++)i[n]=t[n];return i.length=o,i.selector=e||"",i},qsa:function(t,e){var i,n="#"==e[0],o=!n&&"."==e[0],a=n||o?e.slice(1):e,r=m.test(a);return t.getElementById&&r&&n?(i=t.getElementById(a))?[i]:[]:1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType?[]:s.call(r&&!n&&t.getElementsByClassName?o?t.getElementsByClassName(a):t.getElementsByTagName(e):t.querySelectorAll(e))},fragment:function(i,n,o){var a,r,u;return h.test(i)&&(a=t(e.createElement(RegExp.$1))),a||(i.replace&&(i=i.replace(c,"<$1></$2>")),void 0===n&&(n=l.test(i)&&RegExp.$1),n in g||(n="*"),(u=g[n]).innerHTML=""+i,a=t.each(s.call(u.childNodes),function(){u.removeChild(this)})),C(o)&&(r=t(a),t.each(o,function(t,e){d.indexOf(t)>-1?r[t](e):r.attr(t,e)})),a},matches:function(e,i){if(!i||!e||1!==e.nodeType)return!1;var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,i);var o,s=e.parentNode,a=!s;return a&&(s=w).appendChild(e),o=~t.qsa(s,i).indexOf(e),a&&w.removeChild(e),o},each:function(t,e){var i,n;if(L(t)){for(i=0;i<t.length;i++)if(!1===e.call(t[i],i,t[i]))return t}else for(n in t)if(!1===e.call(t[n],n,t[n]))return t;return t},map:function(e,i){var n,o,s,a,r=[];if(L(e))for(o=0;o<e.length;o++)null!=(n=i(e[o],o))&&r.push(n);else for(s in e)null!=(n=i(e[s],s))&&r.push(n);return(a=r).length>0?t.fn.concat.apply([],a):a}}),t.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){b["[object "+e+"]"]=e.toLowerCase()}),t.fn.init.prototype=t.fn;var j=function(t,e){e(t);for(var i=0,n=t.childNodes.length;i<n;i++)j(t.childNodes[i],e)},F=1;function P(t){return t._zid||(t._zid=F++)}function B(t){return"string"==typeof t}var Y=function(){return!0},W=function(){return!1},N={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function _(e,i){if(i||!e.isDefaultPrevented){i||(i=e),t.each(N,function(t,n){var o=i[t];e[t]=function(){return this[n]=Y,o&&o.apply(i,arguments)},e[n]=W});try{e.timeStamp||(e.timeStamp=Date.now())}catch(n){}(void 0!==i.defaultPrevented?i.defaultPrevented:"returnValue"in i?!1===i.returnValue:i.getPreventDefault&&i.getPreventDefault())&&(e.isDefaultPrevented=Y)}return e}var q={},X="onfocusin"in window,Z={focus:"focusin",blur:"focusout"},K={mouseenter:"mouseover",mouseleave:"mouseout"},Q=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/;function U(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function G(t,e){return t.del&&!X&&t.e in Z||!!e}function J(t){return K[t]||X&&Z[t]||t}function tt(t,e,i,n,o){var s=P(t);(e||"").split(/\s/).forEach(function(e){(function(t,e,i,n){if((e=U(e)).ns)var o=new RegExp("(?:^| )"+e.ns.replace(" "," .* ?")+"(?: |$)");return(q[P(t)]||[]).filter(function(t){return t&&(!e.e||t.e==e.e)&&(!e.ns||o.test(t.ns))&&(!i||P(t.fn)===P(i))&&(!n||t.sel==n)})})(t,e,i,n).forEach(function(e){delete q[s][e.i],"removeEventListener"in t&&t.removeEventListener(J(e.e),e.proxy,G(e,o))})})}var et,it="",nt=e.createElement("div"),ot=nt.style.transitionProperty;function st(t){return et?et+t:t.toLowerCase()}void 0===nt.style.transform&&t.each({Webkit:"webkit",Moz:"",O:"o"},function(t,e){if(void 0!==nt.style[t+"TransitionProperty"])return it="-"+t.toLowerCase()+"-",et=e,!1}),nt=null,t.fx={off:void 0===et&&void 0===ot,speeds:{_default:400,fast:200,slow:600},cssPrefix:it,transitionEnd:st("TransitionEnd"),animationEnd:st("AnimationEnd")};var at,rt,lt,ht,ct,ut,dt,ft,pt,gt=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,mt={};at=it+"transform",mt[rt=it+"transition-property"]=mt[lt=it+"transition-duration"]=mt[ct=it+"transition-delay"]=mt[ht=it+"transition-timing-function"]=mt[ut=it+"animation-name"]=mt[dt=it+"animation-duration"]=mt[pt=it+"animation-delay"]=mt[ft=it+"animation-timing-function"]="";var bt=function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=defaultDisplay(this.nodeName))})},vt=function(){return this.css("display","none")};function wt(e,i,n,o,s){"function"!=typeof i||s||(s=i,i=void 0);var a={opacity:n};return o&&(a.scale=o,e.css(t.fx.cssPrefix+"transform-origin","0 0")),e.animate(a,i,null,s)}var xt=t,yt={find:function(e){var n=this;return e?"object"==typeof e?t(e).filter(function(){var t=this;return i.some.call(n,function(e){return y(e,t)})}):1==this.length?t(t.qsa(this[0],e)):this.map(function(){return t.qsa(this,e)}):t()},closest:function(e,i){var n=[],o="object"==typeof e&&t(e);return this.each(function(s,a){for(;a&&!(o?o.indexOf(a)>=0:t.matches(a,e));)a=a!==i&&!M(a)&&a.parentNode;a&&n.indexOf(a)<0&&n.push(a)}),t(n)},css:function(e,i){if(arguments.length<2){var n=this[0];if("string"==typeof e){if(!n)return;return n.style[D(e)]||getComputedStyle(n,"").getPropertyValue(e)}if(x(e)){if(!n)return;var o={},s=getComputedStyle(n,"");return t.each(e,function(t,e){o[e]=n.style[D(e)]||s.getPropertyValue(e)}),o}}var a="";if("string"==E(e))i||0===i?a=k(e)+":"+H(e,i):this.each(function(){this.style.removeProperty(k(e))});else for(var r in e)e[r]||0===e[r]?a+=k(r)+":"+H(r,e[r])+";":this.each(function(){this.style.removeProperty(k(r))});return this.each(function(){this.style.cssText+=";"+a})},addClass:function(e){var i=[];return e?this.each(function(n){if("className"in this){i=[];var o=O(this);S(this,e,n,o).split(/\s+/g).forEach(function(e){t(this).hasClass(e)||i.push(e)},this),i.length&&O(this,o+(o?" ":"")+i.join(" "))}}):this},hasClass:function(t){return!!t&&i.some.call(this,function(t){return this.test(O(t))},I(t))},removeClass:function(t){var e=[];return this.each(function(i){if("className"in this){if(void 0===t)return O(this,"");e=O(this),S(this,t,i,e).split(/\s+/g).forEach(function(t){e=e.replace(I(t)," ")}),O(this,e.trim())}})},attr:function(t,e){var i;return"string"!=typeof t||1 in arguments?this.each(function(i){if(1===this.nodeType)if(T(t))for(var n in t)A(this,n,t[n]);else A(this,t,S(this,e,i,this.getAttribute(t)))}):0 in this&&1==this[0].nodeType&&null!=(i=this[0].getAttribute(t))?i:void 0},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){A(this,t)},this)})},append:function(){return this,i=function(t){this.insertBefore(t,null)},!0,s=t.map(arguments,function(e){var i=[];return"array"==(n=E(e))?(e.forEach(function(e){return void 0!==e.nodeType?i.push(e):V(e)?i=i.concat(e.get()):void(i=i.concat(t.fragment(e)))}),i):"object"==n||null==e?e:t.fragment(e)}),a=this.length>1,s.length<1?this:this.each(function(n,r){var l=y(e.documentElement,o=r);s.forEach(function(e){if(a)e=e.cloneNode(!0);else if(!o)return t(e).remove();i.call(r,e),l&&j(e,function(t){if(!(null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src)){var e=t.ownerDocument?t.ownerDocument.defaultView:window;e.eval.call(e,t.innerHTML)}})})});var i,n,o,s,a},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},empty:function(){return this.each(function(){this.innerHTML=""})},html:function(e){return 0 in arguments?this.each(function(i){var n=this.innerHTML;t(this).empty().append(S(this,e,i,n))}):0 in this?this[0].innerHTML:null},width:function(t){return R.call(this,"width",t)},height:function(t){return R.call(this,"height",t)},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return void 0===t?e?this[0].scrollTop:$(this[0])?this[0].pageYOffset:this[0].defaultView.pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return void 0===t?e?this[0].scrollLeft:$(this[0])?this[0].pageXOffset:this[0].defaultView.pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},offset:function(i){if(i)return this.each(function(e){var n=t(this),o=S(this,i,e,n.offset()),s=n.offsetParent().offset(),a={top:o.top-s.top,left:o.left-s.left};"static"==n.css("position")&&(a.position="relative"),n.css(a)});if(!this.length)return null;if(e.documentElement!==this[0]&&!y(e.documentElement,this[0]))return{top:0,left:0};var n=this[0].getBoundingClientRect();return{left:n.left+window.pageXOffset,top:n.top+window.pageYOffset,width:Math.round(n.width),height:Math.round(n.height)}},offsetParent:function(){return this.map(function(){for(var i=this.offsetParent||e.body;i&&!u.test(i.nodeName)&&"static"==t(i).css("position");)i=i.offsetParent;return i})},position:function(){if(this.length){var e=this[0],i=this.offsetParent(),n=this.offset(),o=u.test(i[0].nodeName)?{top:0,left:0}:i.offset();return n.top-=parseFloat(t(e).css("margin-top"))||0,n.left-=parseFloat(t(e).css("margin-left"))||0,o.top+=parseFloat(t(i[0]).css("border-top-width"))||0,o.left+=parseFloat(t(i[0]).css("border-left-width"))||0,{top:n.top-o.top,left:n.left-o.left}}},on:function(i,n,o,a,r){var l,h,c=this;return i&&!B(i)?(t.each(i,function(t,e){c.on(t,n,o,e,r)}),c):(B(n)||z(a)||!1===a||(a=o,o=n,n=void 0),void 0!==a&&!1!==o||(a=o,o=void 0),!1===a&&(a=W),c.each(function(c,u){r&&(l=function(t){return tt(u,t.type,a),a.apply(this,arguments)}),n&&(h=function(e){var i,o=t(e.target).closest(n,u).get(0);if(o&&o!==u)return i=t.extend(function(t){var e,i={originalEvent:t};for(e in t)Q.test(e)||void 0===t[e]||(i[e]=t[e]);return _(i,t)}(e),{currentTarget:o,liveFired:u}),(l||a).apply(o,[i].concat(s.call(arguments,1)))}),function(i,n,o,s,a,r,l){var h=P(i),c=q[h]||(q[h]=[]);n.split(/\s/).forEach(function(n){if("ready"==n)return t(e).ready(o);var l=U(n);l.fn=o,l.sel=a,l.e in K&&(o=function(t){var e=t.relatedTarget;if(!e||e!==this&&!y(this,e))return l.fn.apply(this,arguments)}),l.del=r;var h=r||o;l.proxy=function(t){if(!(t=_(t)).isImmediatePropagationStopped()){t.data=s;var e=h.apply(i,null==t._args?[t]:[t].concat(t._args));return!1===e&&(t.preventDefault(),t.stopPropagation()),e}},l.i=c.length,c.push(l),"addEventListener"in i&&i.addEventListener(J(l.e),l.proxy,G(l,void 0))})}(u,i,a,o,n,h||l)}))},off:function(e,i,n){var o=this;return e&&!B(e)?(t.each(e,function(t,e){o.off(t,i,e)}),o):(B(i)||z(n)||!1===n||(n=i,i=void 0),!1===n&&(n=W),o.each(function(){tt(this,e,n,i)}))},show:function(t,e){return bt.call(this),void 0===t?t=0:this.css("opacity",0),wt(this,t,1,"1,1",e)},hide:function(e,i){return void 0===e?vt.call(this):function(e,i,n,o){return wt(e,i,0,"0,0",function(){vt.call(t(this)),o&&o.call(this)})}(this,e,0,i)},anim:function(e,i,n,o,s){var a,r,l,h={},c="",u=this,d=t.fx.transitionEnd,f=!1;if(void 0===i&&(i=t.fx.speeds._default/1e3),void 0===s&&(s=0),t.fx.off&&(i=0),"string"==typeof e)h[ut]=e,h[dt]=i+"s",h[pt]=s+"s",h[ft]=n||"linear",d=t.fx.animationEnd;else{for(a in r=[],e)gt.test(a)?c+=a+"("+e[a]+") ":(h[a]=e[a],r.push(a.replace(/([A-Z])/g,"-$1").toLowerCase()));c&&(h[at]=c,r.push(at)),i>0&&"object"==typeof e&&(h[rt]=r.join(", "),h[lt]=i+"s",h[ct]=s+"s",h[ht]=n||"linear")}return l=function(e){if(void 0!==e){if(e.target!==e.currentTarget)return;t(e.target).off(d,l)}else t(this).off(d,l);f=!0,t(this).css(mt),o&&o.call(this)},i>0&&(this.on(d,l),setTimeout(function(){f||l.call(u)},1e3*(i+s)+25)),this.size()&&this.get(0),this.css(h),i<=0&&setTimeout(function(){u.each(function(){l.call(this)})},0),this},animate:function(e,i,n,o,s){return z(i)&&(o=i,n=void 0,i=void 0),z(n)&&(o=n,n=void 0),C(i)&&(n=i.easing,o=i.complete,s=i.delay,i=i.duration),i&&(i=("number"==typeof i?i:t.fx.speeds[i]||t.fx.speeds._default)/1e3),s&&(s=parseFloat(s)/1e3),this.anim(e,i,n,o,s)},fadeTo:function(t,e,i){return wt(this,t,e,null,i)},fadeIn:function(t,e){var i=this.css("opacity");return i>0?this.css("opacity",0):i=1,bt.call(this).fadeTo(t,i,e)}};xt.extend({isArray:x,noop:function(){}}),xt.fn.extend(yt);var Et={draggable:!0,resizable:!0,movable:!0,keyboard:!0,title:!0,modalWidth:320,modalHeight:320,fixedContent:!0,fixedModalSize:!1,initMaximized:!1,gapThreshold:.02,ratioThreshold:.1,minRatio:.05,maxRatio:16,headToolbar:["maximize","close"],footToolbar:["zoomIn","zoomOut","prev","fullscreen","next","actualSize","rotateRight"],icons:{minimize:'<svg viewBox="0 0 24 24" class="svg-inline-icon">\n               <path fill="currentColor" d="M20,14H4V10H20"></path>\n               </svg>',maximize:'<svg viewBox="0 0 24 24" class="svg-inline-icon">\n               <path fill="currentColor" d="M4,4H20V20H4V4M6,8V18H18V8H6Z"></path>\n               </svg>',close:'<svg viewBox="0 0 24 24" class="svg-inline-icon">\n            <path fill="currentColor" d="M13.46,12L19,17.54V19H17.54L12,13.46\n            L6.46,19H5V17.54L10.54,12L5,6.46V5H6.46L12,10.54L17.54,5H19V6.46\n            L13.46,12Z"></path>\n            </svg>',zoomIn:'<svg viewBox="0 0 24 24" class="svg-inline-icon">\n             <path fill="currentColor" d="M15.5,14L20.5,19L19,20.5L14,15.5V14.71\n             L13.73,14.43C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,\n             6.5 0 0,1 9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.43,\n             13.73L14.71,14H15.5M9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5C7,5 5,\n             7 5,9.5C5,12 7,14 9.5,14M12,10H10V12H9V10H7V9H9V7H10V9H12V10Z"></path>\n            </svg>',zoomOut:'<svg viewBox="0 0 24 24" class="svg-inline-icon">\n              <path fill="currentColor" d="M15.5,14H14.71L14.43,13.73C15.41,\n              12.59 16,11.11 16,9.5A6.5,6.5 0 0,0 9.5,3A6.5,6.5 0 0,0 3,9.5A6.5,\n              6.5 0 0,0 9.5,16C11.11,16 12.59,15.41 13.73,14.43L14,14.71V15.5\n              L19,20.5L20.5,19L15.5,14M9.5,14C7,14 5,12 5,9.5C5,7 7,5 9.5,5C12,\n              5 14,7 14,9.5C14,12 12,14 9.5,14M7,9H12V10H7V9Z"></path>\n              </svg>',prev:'<svg viewBox="0 0 24 24" class="svg-inline-icon">\n           <path fill="currentColor" d="M6,18V6H8V18H6M9.5,12L18,6V18L9.5,12Z"></path>\n           </svg>',next:'<svg viewBox="0 0 24 24" class="svg-inline-icon">\n           <path fill="currentColor" d="M16,18H18V6H16M6,18L14.5,12L6,6V18Z"></path>\n           </svg>',fullscreen:'<svg viewBox="0 0 24 24" class="svg-inline-icon">\n                 <path fill="currentColor" d="M8.5,12.5L11,15.5L14.5,11L19,17H5\n                 M23,18V6A2,2 0 0,0 21,4H3A2,2 0 0,0 1,6V18A2,2 0 0,0 3,20H21A2,\n                 2 0 0,0 23,18Z"></path>\n                 </svg>',actualSize:'<svg viewBox="0 0 24 24" class="svg-inline-icon">\n                 <path fill="currentColor" d="M9.5,13.09L10.91,14.5L6.41,19H10V21\n                 H3V14H5V17.59L9.5,13.09M10.91,9.5L9.5,10.91L5,6.41V10H3V3H10V5\n                 H6.41L10.91,9.5M14.5,13.09L19,17.59V14H21V21H14V19H17.59L13.09,\n                 14.5L14.5,13.09M13.09,9.5L17.59,5H14V3H21V10H19V6.41L14.5,10.91\n                 L13.09,9.5Z"></path>\n                </svg>',rotateLeft:'<svg viewBox="0 0 24 24" class="svg-inline-icon">\n                 <path fill="currentColor" d="M13,4.07V1L8.45,5.55L13,10V6.09\n                 C15.84,6.57 18,9.03 18,12C18,14.97 15.84,17.43 13,17.91V19.93\n                 C16.95,19.44 20,16.08 20,12C20,7.92 16.95,4.56 13,4.07M7.1,18.32\n                 C8.26,19.22 9.61,19.76 11,19.93V17.9C10.13,17.75 9.29,17.41 8.54,\n                 16.87L7.1,18.32M6.09,13H4.07C4.24,14.39 4.79,15.73 5.69,16.89\n                 L7.1,15.47C6.58,14.72 6.23,13.88 6.09,13M7.11,8.53L5.7,7.11C4.8,\n                 8.27 4.24,9.61 4.07,11H6.09C6.23,10.13 6.58,9.28 7.11,8.53Z"></path>\n                 </svg>',rotateRight:'<svg viewBox="0 0 24 24" class="svg-inline-icon">\n                  <path fill="currentColor" d="M16.89,15.5L18.31,16.89C19.21,\n                  15.73 19.76,14.39 19.93,13H17.91C17.77,13.87 17.43,14.72 16.89,\n                  15.5M13,17.9V19.92C14.39,19.75 15.74,19.21 16.9,18.31L15.46,\n                  16.87C14.71,17.41 13.87,17.76 13,17.9M19.93,11C19.76,9.61 19.21,\n                  8.27 18.31,7.11L16.89,8.53C17.43,9.28 17.77,10.13 17.91,11M15.55,\n                  5.55L11,1V4.07C7.06,4.56 4,7.92 4,12C4,16.08 7.05,19.44 11,19.93\n                  V17.91C8.16,17.43 6,14.97 6,12C6,9.03 8.16,6.57 11,6.09V10L15.55,\n                  5.55Z"></path>\n                  </svg>'},i18n:{minimize:"minimize",maximize:"maximize",close:"close",zoomIn:"zoom-in(+)",zoomOut:"zoom-out(-)",prev:"prev(\u2190)",next:"next(\u2192)",fullscreen:"fullscreen",actualSize:"actual-size(Ctrl+Alt+0)",rotateLeft:"rotate-left(Ctrl+,)",rotateRight:"rotate-right(Ctrl+.)"},multiInstances:!0,initAnimation:!0,fixedModalPos:!1,zIndex:1090,dragHandle:!1,callbacks:{beforeOpen:xt.noop,opened:xt.noop,beforeClose:xt.noop,closed:xt.noop,beforeChange:xt.noop,changed:xt.noop},index:0,progressiveLoading:!0,appendTo:"body"},zt=window.document;function $t(t,e,i,n){var o=n?t.h:t.w,s=n?t.w:t.h;(s>e.h||o>e.w)&&i.addClass("is-grab"),s<=e.h&&o<=e.w&&i.removeClass("is-grab")}function Mt(){return!!("ontouchstart"in window||window.DocumentTouch&&zt instanceof DocumentTouch)}var Tt=xt(window),Ct=xt(zt),Lt=Mt()?"touchstart":"mousedown",kt=Mt()?"touchmove":"mousemove",Ht=Mt()?"touchend":"mouseup",Dt="photoviewer",It="."+Dt,Vt="."+Dt,St={isMoving:!1,isResizing:!1,zIndex:0},At={draggable:function(t,e,i){var n=this,o=!1,s=0,a=0,r=0,l=0,h=function(e){if((e=e||window.event).preventDefault(),o&&!St.isMoving&&!St.isResizing&&!n.isMaximized){var i=("touchmove"===e.type?e.targetTouches[0].pageX:e.clientX)-s,h=("touchmove"===e.type?e.targetTouches[0].pageY:e.clientY)-a;xt(t).css({left:i+r+"px",top:h+l+"px"})}},c=function t(){Ct.off(kt+Vt,h).off(Ht+Vt,t),o=!1};xt(e).on(Lt+Vt,function(e){if(e=e||window.event,xt(e.target).closest(i).length)return!0;n.options.multiInstances&&t.css("z-index",++St.zIndex),o=!0,s="touchstart"===e.type?e.targetTouches[0].pageX:e.clientX,a="touchstart"===e.type?e.targetTouches[0].pageY:e.clientY,r=xt(t).offset().left,l=xt(t).offset().top,Ct.on(kt+Vt,h).on(Ht+Vt,c)})}},Ot="html,body,."+Dt+"-modal,."+Dt+"-stage,."+Dt+"-button,."+Dt+"-resizable-handle",Rt={movable:function(t,e){var i=this,n=!1,o=0,s=0,a=0,r=0,l=0,h=0,c=0,u=function(t){if((t=t||window.event).preventDefault(),n){var u=("touchmove"===t.type?t.targetTouches[0].pageX:t.clientX)-o,d=("touchmove"===t.type?t.targetTouches[0].pageY:t.clientY)-s,f=u+a,p=d+r;h>0?d+r>c?p=c:d+r<-h+c&&(p=-h+c):p=r,l>0?u+a>-c?f=-c:u+a<-l-c&&(f=-l-c):f=a,xt(e).css({left:f+"px",top:p+"px"}),xt.extend(i.imageData,{left:f,top:p})}},d=function t(){Ct.off(kt+Vt,u).off(Ht+Vt,t),n=!1,St.isMoving=!1,xt(Ot).removeClass("is-grabbing")};xt(t).on(Lt+Vt,function(f){(f=f||window.event).preventDefault();var p=xt(e).width(),g=xt(e).height(),m=xt(t).width(),b=xt(t).height();o="touchstart"===f.type?f.targetTouches[0].pageX:f.clientX,s="touchstart"===f.type?f.targetTouches[0].pageY:f.clientY,c=i.isRotated?(p-g)/2:0,h=i.isRotated?p-b:g-b,n=(l=i.isRotated?g-m:p-m)>0||h>0,St.isMoving=l>0||h>0,a=xt(e).position().left-c,r=xt(e).position().top+c,t.hasClass("is-grab")&&xt(Ot).addClass("is-grabbing"),Ct.on(kt+Vt,u).on(Ht+Vt,d)})}},jt={resizable:function(t,e,i,n,o){var s=this,a=xt('<div class="'+Dt+"-resizable-handle "+Dt+'-resizable-handle-e"></div>'),r=xt('<div class="'+Dt+"-resizable-handle "+Dt+'-resizable-handle-w"></div>'),l=xt('<div class="'+Dt+"-resizable-handle "+Dt+'-resizable-handle-s"></div>'),h=xt('<div class="'+Dt+"-resizable-handle "+Dt+'-resizable-handle-n"></div>'),c=xt('<div class="'+Dt+"-resizable-handle "+Dt+'-resizable-handle-se"></div>'),u=xt('<div class="'+Dt+"-resizable-handle "+Dt+'-resizable-handle-sw"></div>'),d=xt('<div class="'+Dt+"-resizable-handle "+Dt+'-resizable-handle-ne"></div>'),f=xt('<div class="'+Dt+"-resizable-handle "+Dt+'-resizable-handle-nw"></div>'),p={e:a,s:l,se:c,n:h,w:r,nw:f,ne:d,sw:u};xt(t).append(a,r,l,h,c,u,d,f);var g=!1,m=0,b=0,v={w:0,h:0,l:0,t:0},w={w:0,h:0,l:0,t:0},x={w:0,h:0,l:0,t:0},y=0,E=0,z=0,$="",M=function(e){if((e=e||window.event).preventDefault(),g&&!s.isMaximized){var a=("touchmove"===e.type?e.targetTouches[0].pageX:e.clientX)-m,r=("touchmove"===e.type?e.targetTouches[0].pageY:e.clientY)-b,l=(c=$,f=-(u=a)+v.w>n?u+v.l:v.l+v.w-n,p=-(d=r)+v.h>o?d+v.t:v.t+v.h-o,{e:{width:Math.max(u+v.w,n)+"px"},s:{height:Math.max(d+v.h,o)+"px"},se:{width:Math.max(u+v.w,n)+"px",height:Math.max(d+v.h,o)+"px"},w:{width:Math.max(-u+v.w,n)+"px",left:f+"px"},n:{height:Math.max(-d+v.h,o)+"px",top:p+"px"},nw:{width:Math.max(-u+v.w,n)+"px",height:Math.max(-d+v.h,o)+"px",top:p+"px",left:f+"px"},ne:{width:Math.max(u+v.w,n)+"px",height:Math.max(-d+v.h,o)+"px",top:p+"px"},sw:{width:Math.max(-u+v.w,n)+"px",height:Math.max(d+v.h,o)+"px",left:f+"px"}}[c]);xt(t).css(l);var h=function(t,e,s){var l=a+v.w>n?w.w-E+a-y:n-(v.w-w.w)-E-y,h=r+v.h>o?w.h-z+r+y:o-(v.h-w.h)-z+y,c=-a+v.w>n?w.w-E-a-y:n-(v.w-w.w)-E-y,u=-r+v.h>o?w.h-z-r+y:o-(v.h-w.h)-z+y,d=(l>0?xt(i).position().left:xt(i).position().left<0?xt(i).position().left:0)-y,f=(h>0?xt(i).position().top:xt(i).position().top<0?xt(i).position().top:0)+y,p=(c>0?xt(i).position().left:xt(i).position().left<0?xt(i).position().left:0)-y,g=(u>0?xt(i).position().top:xt(i).position().top<0?xt(i).position().top:0)+y;return{e:{left:l>=-y?(l-y)/2+"px":d>l?d+"px":l+"px"},s:{top:h>=y?(h+y)/2+"px":f>h?f+"px":h+"px"},se:{top:h>=y?(h+y)/2+"px":f>h?f+"px":h+"px",left:l>=-y?(l-y)/2+"px":d>l?d+"px":l+"px"},w:{left:c>=-y?(c-y)/2+"px":p>c?p+"px":c+"px"},n:{top:u>=y?(u+y)/2+"px":g>u?g+"px":u+"px"},nw:{top:u>=y?(u+y)/2+"px":g>u?g+"px":u+"px",left:c>=-y?(c-y)/2+"px":p>c?p+"px":c+"px"},ne:{top:u>=y?(u+y)/2+"px":g>u?g+"px":u+"px",left:l>=-y?(l-y)/2+"px":d>l?d+"px":l+"px"},sw:{top:h>=y?(h+y)/2+"px":f>h?f+"px":h+"px",left:c>=-y?(c-y)/2+"px":p>c?p+"px":c+"px"}}[t]}($);xt(i).css(h),s.isDoResize=!0}var c,u,d,f,p},T=function t(){Ct.off(kt+Vt,M).off(Ht+Vt,t),St.isResizing&&$t({w:E,h:z},{w:xt(e).width(),h:xt(e).height()},e),g=!1,St.isResizing=!1,xt("html,body,.photoviewer-modal,.photoviewer-stage,.photoviewer-button").css("cursor","");var i=s.getImageScaleToStage(xt(e).width(),xt(e).height());xt.extend(s.imageData,{initWidth:s.img.width*i,initHeight:s.img.height*i,initLeft:(xt(e).width()-s.img.width*i)/2,initTop:(xt(e).height()-s.img.height*i)/2})};xt.each(p,function(n,o){o.on(Lt+Vt,function(o){!function(n,o){(o=o||window.event).preventDefault(),g=!0,St.isResizing=!0,m="touchstart"===o.type?o.targetTouches[0].pageX:o.clientX,b="touchstart"===o.type?o.targetTouches[0].pageY:o.clientY,v={w:xt(t).width(),h:xt(t).height(),l:xt(t).offset().left,t:xt(t).offset().top},w={w:xt(e).width(),h:xt(e).height(),l:xt(e).offset().left,t:xt(e).offset().top},x={w:xt(i).width(),h:xt(i).height(),l:xt(i).position().left,t:xt(i).position().top},y=s.isRotated?(x.w-x.h)/2:0,E=s.isRotated?x.h:x.w,z=s.isRotated?x.w:x.h,$=n,xt("html,body,.photoviewer-modal,.photoviewer-stage,.photoviewer-button").css("cursor",n+"-resize"),Ct.on(kt+Vt,M).on(Ht+Vt,T)}(n,o)})})}},Ft=function(){function t(t,e,i){this.options=xt.extend(!0,{},Et,e),e&&xt.isArray(e.footToolbar)&&(this.options.footToolbar=e.footToolbar),e&&xt.isArray(e.headToolbar)&&(this.options.headToolbar=e.headToolbar),this.$el=xt(i),this.isOpened=!1,this.isMaximized=!1,this.isRotated=!1,this.rotateAngle=0,this.isDoResize=!1,this.imageData={},this.modalData={width:null,height:null,left:null,top:null},this.init(t,this.options)}var e=t.prototype;return e.init=function(t,e){this.groupData=t,this.groupIndex=e.index,St.zIndex=0===St.zIndex?e.zIndex:St.zIndex;var i=t[this.groupIndex].src;this.open(),this.loadImg(i),e.draggable&&this.draggable(this.$photoviewer,this.dragHandle,It+"-button"),e.movable&&this.movable(this.$stage,this.$image),e.resizable&&this.resizable(this.$photoviewer,this.$stage,this.$image,e.modalWidth,e.modalHeight)},e._createBtns=function(t,e){var i="";return xt.each(t,function(t,n){i+=e[n]}),i},e._createTitle=function(){return this.options.title?'<div class="'+Dt+'-title"></div>':""},e.render=function(){var t={minimize:'<button class="'+Dt+"-button "+Dt+'-button-minimize"\n                  title="'+this.options.i18n.minimize+'">\n                    '+this.options.icons.minimize+"\n                  </button>",maximize:'<button class="'+Dt+"-button "+Dt+'-button-maximize"\n                  title="'+this.options.i18n.maximize+'">\n                    '+this.options.icons.maximize+"\n                  </button>",close:'<button class="'+Dt+"-button "+Dt+'-button-close"\n              title="'+this.options.i18n.close+'">\n                '+this.options.icons.close+"\n              </button>",zoomIn:'<button class="'+Dt+"-button "+Dt+'-button-zoom-in"\n                title="'+this.options.i18n.zoomIn+'">\n                  '+this.options.icons.zoomIn+"\n                </button>",zoomOut:'<button class="'+Dt+"-button "+Dt+'-button-zoom-out"\n                title="'+this.options.i18n.zoomOut+'">\n                  '+this.options.icons.zoomOut+"\n                </button>",prev:'<button class="'+Dt+"-button "+Dt+'-button-prev"\n              title="'+this.options.i18n.prev+'">\n                '+this.options.icons.prev+"\n              </button>",next:'<button class="'+Dt+"-button "+Dt+'-button-next"\n              title="'+this.options.i18n.next+'">\n                '+this.options.icons.next+"\n              </button>",fullscreen:'<button class="'+Dt+"-button "+Dt+'-button-fullscreen"\n                    title="'+this.options.i18n.fullscreen+'">\n                    '+this.options.icons.fullscreen+"\n                  </button>",actualSize:'<button class="'+Dt+"-button "+Dt+'-button-actual-size"\n                    title="'+this.options.i18n.actualSize+'">\n                      '+this.options.icons.actualSize+"\n                    </button>",rotateLeft:'<button class="'+Dt+"-button "+Dt+'-button-rotate-left"\n                    title="'+this.options.i18n.rotateLeft+'">\n                      '+this.options.icons.rotateLeft+"\n                    </button>",rotateRight:'<button class="'+Dt+"-button "+Dt+'-button-rotate-right"\n                      title="'+this.options.i18n.rotateRight+'">\n                      '+this.options.icons.rotateRight+"\n                    </button>"};return'<div class="'+Dt+'-modal">\n        <div class="'+Dt+'-inner">\n          <div class="'+Dt+'-header">\n            <div class="'+Dt+"-toolbar "+Dt+'-toolbar-head">\n              '+this._createBtns(this.options.headToolbar,t)+"\n            </div>\n            "+this._createTitle()+'\n          </div>\n          <div class="'+Dt+'-stage">\n            <img class="'+Dt+'-image" src="" alt="" />\n          </div>\n          <div class="'+Dt+'-footer">\n            <div class="'+Dt+"-toolbar "+Dt+'-toolbar-foot">\n              '+this._createBtns(this.options.footToolbar,t)+"\n            </div>\n          </div>\n        </div>\n      </div>"},e.build=function(){var t=this.render(),e=xt(t);this.$photoviewer=e,this.$header=e.find(It+"-header"),this.$headToolbar=e.find(It+"-toolbar-head"),this.$footer=e.find(It+"-footer"),this.$footToolbar=e.find(It+"-toolbar-foot"),this.$stage=e.find(It+"-stage"),this.$title=e.find(It+"-title"),this.$image=e.find(It+"-image"),this.$close=e.find(It+"-button-close"),this.$maximize=e.find(It+"-button-maximize"),this.$minimize=e.find(It+"-button-minimize"),this.$zoomIn=e.find(It+"-button-zoom-in"),this.$zoomOut=e.find(It+"-button-zoom-out"),this.$actualSize=e.find(It+"-button-actual-size"),this.$fullscreen=e.find(It+"-button-fullscreen"),this.$rotateLeft=e.find(It+"-button-rotate-left"),this.$rotateRight=e.find(It+"-button-rotate-right"),this.$prev=e.find(It+"-button-prev"),this.$next=e.find(It+"-button-next"),this.$stage.addClass("stage-ready"),this.$image.addClass("image-ready"),this.$photoviewer.css("z-index",St.zIndex),this.dragHandle=this.options.dragHandle&&this.options.dragHandle!==It+"-modal"?this.$photoviewer.find(this.options.dragHandle):this.$photoviewer},e.open=function(){if(this.options.multiInstances||xt(It+"-modal").eq(0).remove(),!xt(It+"-modal").length&&this.options.fixedContent&&(xt("html").css({overflow:"hidden"}),zt.body.scrollHeight>(window.innerHeight||zt.documentElement.clientHeight))){var t=function(){var t=zt.createElement("div");t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",zt.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return zt.body.removeChild(t),e}();t&&xt("html").css({"padding-right":t})}this.build(),this._triggerHook("beforeOpen",this.$el),xt(this.options.appendTo).eq(0).append(this.$photoviewer),this.addEvents(),this.setModalPos(this.$photoviewer),this._triggerHook("opened",this.$el)},e.close=function(){this._triggerHook("beforeClose",this.$el),this.$photoviewer.remove(),this.isOpened=!1,this.isMaximized=!1,this.isRotated=!1,this.rotateAngle=0;var t=!xt(It+"-modal").length;t&&this.options.fixedContent&&xt("html").css({overflow:"","padding-right":""}),t&&this.options.multiInstances&&(St.zIndex=this.options.zIndex),xt(It+"-modal").length||(Ct.off("keydown"+Vt),Tt.off("resize"+Vt)),this._triggerHook("closed",this.$el)},e.setModalPos=function(t){var e=Tt.width(),i=Tt.height(),n=Ct.scrollLeft(),o=Ct.scrollTop(),s=this.options.modalWidth,a=this.options.modalHeight;this.options.initMaximized?(t.addClass(Dt+"-maximize"),t.css({width:"100%",height:"100%",left:0,top:0}),this.isOpened=!0,this.isMaximized=!0):t.css({width:s,height:a,left:(e-s)/2+n+"px",top:(i-a)/2+o+"px"})},e.setModalSize=function(t){var e=this,i=Tt.width(),n=Tt.height(),o=Ct.scrollLeft(),s=Ct.scrollTop(),a={left:this.$stage.css("left"),right:this.$stage.css("right"),top:this.$stage.css("top"),bottom:this.$stage.css("bottom"),borderLeft:this.$stage.css("border-left-width"),borderRight:this.$stage.css("border-right-width"),borderTop:this.$stage.css("border-top-width"),borderBottom:this.$stage.css("border-bottom-width")},r=t.width+parseFloat(a.left)+parseFloat(a.right)+parseFloat(a.borderLeft)+parseFloat(a.borderRight),l=t.height+parseFloat(a.top)+parseFloat(a.bottom)+parseFloat(a.borderTop)+parseFloat(a.borderBottom),h=(this.options.gapThreshold>0?this.options.gapThreshold:0)+1,c=Math.min(i/(r*h),n/(l*h),1),u=Math.max(r*c,this.options.modalWidth),d=Math.max(l*c,this.options.modalHeight),f={width:(u=this.options.fixedModalSize?this.options.modalWidth:Math.round(u))+"px",height:(d=this.options.fixedModalSize?this.options.modalHeight:Math.round(d))+"px",left:(i-u)/2+o+"px",top:(n-d)/2+s+"px"};this.options.initAnimation?this.$photoviewer.animate(f,400,"ease-in-out",function(){e.setImageSize(t)}):(this.$photoviewer.css(f),this.setImageSize(t)),this.isOpened=!0},e.getImageScaleToStage=function(t,e){return this.isRotated?Math.min(t/this.img.height,e/this.img.width,1):Math.min(t/this.img.width,e/this.img.height,1)},e.setImageSize=function(t){var e={w:this.$stage.width(),h:this.$stage.height()},i=this.getImageScaleToStage(e.w,e.h);this.$image.css({width:Math.ceil(t.width*i)+"px",height:Math.ceil(t.height*i)+"px",left:(e.w-Math.ceil(t.width*i))/2+"px",top:(e.h-Math.ceil(t.height*i))/2+"px"}),xt.extend(this.imageData,{initWidth:t.width*i,initHeight:t.height*i,initLeft:(e.w-t.width*i)/2,initTop:(e.h-t.height*i)/2,width:t.width*i,height:t.height*i,left:(e.w-t.width*i)/2,top:(e.h-t.height*i)/2}),$t({w:this.$image.width(),h:this.$image.height()},{w:this.$stage.width(),h:this.$stage.height()},this.$stage,this.isRotated),this.imgLoaded||(this.$photoviewer.find(It+"-loader").remove(),this.$stage.removeClass("stage-ready"),this.$image.removeClass("image-ready"),this.options.initAnimation&&!this.options.progressiveLoading&&this.$image.fadeIn(),this.imgLoaded=!0)},e.loadImg=function(t,e,i){var n,o,s,a,r=this;this.$image.removeAttr("style").attr("src",""),this.isRotated=!1,this.rotateAngle=0,this.imgLoaded=!1,this.$photoviewer.append('<div class="'+Dt+'-loader"></div>'),this.$stage.addClass("stage-ready"),this.$image.addClass("image-ready"),this.options.initAnimation&&!this.options.progressiveLoading&&this.$image.hide(),this.$image.attr("src",t),n=t,o=function(t){r.img=t,r.imageData={originalWidth:t.width,originalHeight:t.height},r.isMaximized||r.isOpened&&r.options.fixedModalPos?r.setImageSize(t):r.setModalSize(t),e&&e.call()},s=function(){r.$photoviewer.find(It+"-loader").remove(),i&&i.call()},(a=new Image).onload=function(){o(a)},a.onerror=function(){s()},a.src=n,this.options.title&&this.setImgTitle(t)},e.setImgTitle=function(t){var e=this.groupData[this.groupIndex].title?this.groupData[this.groupIndex].title:function(t){return t.replace(/^.*?\/*([^\/?]*)\.[a-z]+(\?.+|$)/gi,"$1")}(t);this.$title.html(e)},e.jump=function(t){this._triggerHook("beforeChange",this.groupIndex),this.groupIndex=this.groupIndex+t,this.jumpTo(this.groupIndex)},e.jumpTo=function(t){var e=this;(t%=this.groupData.length)>=0?t%=this.groupData.length:t<0&&(t=(this.groupData.length+t)%this.groupData.length),this.groupIndex=t,this.loadImg(this.groupData[t].src,function(){e._triggerHook("changed",t)},function(){e._triggerHook("changed",t)})},e.wheel=function(t){t.preventDefault();var e=1;t.deltaY?e=t.deltaY>0?1:-1:t.wheelDelta?e=-t.wheelDelta/120:t.detail&&(e=t.detail>0?1:-1);var i=-e*this.options.ratioThreshold,n={x:t.clientX-this.$stage.offset().left+Ct.scrollLeft(),y:t.clientY-this.$stage.offset().top+Ct.scrollTop()};this.zoom(i,n,t)},e.zoom=function(t,e,i){t=t<0?1/(1-t):1+t,(t=this.$image.width()/this.imageData.originalWidth*t)>this.options.maxRatio||t<this.options.minRatio||this.zoomTo(t,e,i)},e.zoomTo=function(t,e,i){var n=this.$image,o=this.$stage,s=this.imageData.width,a=this.imageData.height,r=this.imageData.left,l=this.imageData.top,h={w:o.width(),h:o.height(),x:o.offset().left,y:o.offset().top},c=this.imageData.originalWidth*t,u=this.imageData.originalHeight*t,d=e.x-(e.x-r)/s*c,f=e.y-(e.y-l)/a*u,p=this.isRotated?(c-u)/2:0,g=this.isRotated?u:c,m=this.isRotated?c:u,b=h.w-c,v=h.h-u;f=m<=h.h?(h.h-u)/2:f>p?p:f>v-p?f:v-p,d=g<=h.w?(h.w-c)/2:d>-p?-p:d>b+p?d:b+p,Math.abs(this.imageData.initWidth-c)<.05*this.imageData.initWidth?this.setImageSize(this.img):(n.css({width:Math.round(c)+"px",height:Math.round(u)+"px",left:Math.round(d)+"px",top:Math.round(f)+"px"}),$t({w:Math.round(g),h:Math.round(m)},{w:h.w,h:h.h},this.$stage)),xt.extend(this.imageData,{width:c,height:u,left:d,top:f})},e.rotate=function(t){this.rotateAngle=this.rotateAngle+t,this.isRotated=this.rotateAngle/90%2!=0,this.rotateTo(this.rotateAngle)},e.rotateTo=function(t){this.$image.css({transform:"rotate("+t+"deg)"}),this.setImageSize({width:this.imageData.originalWidth,height:this.imageData.originalHeight}),this.$stage.removeClass("is-grab")},e.resize=function(){var t,e,i=this;return t=function(){i.isOpened&&(i.isMaximized?i.setImageSize({width:i.imageData.originalWidth,height:i.imageData.originalHeight}):i.setModalSize({width:i.imageData.originalWidth,height:i.imageData.originalHeight}))},e=null,function(){var i=this,n=arguments;clearTimeout(e),e=setTimeout(function(){t.apply(i,n)},500)}},e.maximize=function(){this.isMaximized?(this.$photoviewer.removeClass(Dt+"-maximize"),this.$photoviewer.css({width:this.modalData.width?this.modalData.width:this.options.modalWidth,height:this.modalData.height?this.modalData.height:this.options.modalHeight,left:this.modalData.left?this.modalData.left:(Tt.width()-this.options.modalWidth)/2+Ct.scrollLeft(),top:this.modalData.top?this.modalData.top:(Tt.height()-this.options.modalHeight)/2+Ct.scrollTop()}),this.isMaximized=!1):(this.modalData={width:this.$photoviewer.width(),height:this.$photoviewer.height(),left:this.$photoviewer.offset().left,top:this.$photoviewer.offset().top},this.$photoviewer.addClass(Dt+"-maximize"),this.$photoviewer.css({width:"100%",height:"100%",left:0,top:0}),this.isMaximized=!0),this.setImageSize({width:this.imageData.originalWidth,height:this.imageData.originalHeight})},e.fullscreen=function(){var t;(t=this.$photoviewer[0]).requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()},e.keydown=function(t){if(!this.options.keyboard)return!1;var e=t.ctrlKey||t.metaKey,i=t.altKey||t.metaKey;switch(t.keyCode||t.which||t.charCode){case 37:this.jump(-1);break;case 39:this.jump(1);break;case 187:this.zoom(3*this.options.ratioThreshold,{x:this.$stage.width()/2,y:this.$stage.height()/2},t);break;case 189:this.zoom(3*-this.options.ratioThreshold,{x:this.$stage.width()/2,y:this.$stage.height()/2},t);break;case 61:this.zoom(3*this.options.ratioThreshold,{x:this.$stage.width()/2,y:this.$stage.height()/2},t);break;case 173:this.zoom(3*-this.options.ratioThreshold,{x:this.$stage.width()/2,y:this.$stage.height()/2},t);break;case 48:e&&i&&this.zoomTo(1,{x:this.$stage.width()/2,y:this.$stage.height()/2},t);break;case 188:e&&this.rotate(-90);break;case 190:e&&this.rotate(90);break;case 81:this.close()}},e.addEvents=function(){var t=this;this.$close.off("click"+Vt).on("click"+Vt,function(e){t.close()}),this.$stage.off("wheel mousewheel DOMMouseScroll"+Vt).on("wheel mousewheel DOMMouseScroll"+Vt,function(e){t.wheel(e)}),this.$zoomIn.off("click"+Vt).on("click"+Vt,function(e){t.zoom(3*t.options.ratioThreshold,{x:t.$stage.width()/2,y:t.$stage.height()/2},e)}),this.$zoomOut.off("click"+Vt).on("click"+Vt,function(e){t.zoom(3*-t.options.ratioThreshold,{x:t.$stage.width()/2,y:t.$stage.height()/2},e)}),this.$actualSize.off("click"+Vt).on("click"+Vt,function(e){t.zoomTo(1,{x:t.$stage.width()/2,y:t.$stage.height()/2},e)}),this.$prev.off("click"+Vt).on("click"+Vt,function(){t.jump(-1)}),this.$fullscreen.off("click"+Vt).on("click"+Vt,function(){t.fullscreen()}),this.$next.off("click"+Vt).on("click"+Vt,function(){t.jump(1)}),this.$rotateLeft.off("click"+Vt).on("click"+Vt,function(){t.rotate(-90)}),this.$rotateRight.off("click"+Vt).on("click"+Vt,function(){t.rotate(90)}),this.$maximize.off("click"+Vt).on("click"+Vt,function(){t.maximize()}),Ct.off("keydown"+Vt).on("keydown"+Vt,function(e){t.keydown(e)}),Tt.on("resize"+Vt,this.resize())},e._triggerHook=function(t,e){this.options.callbacks[t]&&this.options.callbacks[t].apply(this,xt.isArray(e)?e:[e])},t}();return xt.extend(Ft.prototype,At,Rt,jt),window.PhotoViewer=Ft,Ft}()}}]);